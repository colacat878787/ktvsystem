<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KTV 系統</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            background-color: #222;
            color: #eee;
            overflow: hidden; /* 隱藏滾動條直到內容載入 */
        }

        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #333;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        #loading-text {
            font-size: 2em;
            margin-bottom: 20px;
        }

        .loading-animation {
            border-radius: 50%;
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-top-color: #fff;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        #main-content {
            display: none; /* 預設隱藏主內容 */
            padding: 20px;
            display: grid;
            grid-template-columns: 300px 1fr; /* 左側選歌，右側播放 */
            gap: 20px;
        }

        #song-list {
            border-right: 1px solid #555;
            padding-right: 20px;
            height: 80vh;
            overflow-y: auto;
        }

        .song-item {
            padding: 10px 0;
            cursor: pointer;
            border-bottom: 1px solid #444;
        }

        .song-item:last-child {
            border-bottom: none;
        }

        #player-area {
            display: grid;
            grid-template-rows: auto 1fr auto; /* 專輯/資訊, 歌詞, 控制條 */
            height: 80vh;
            padding: 20px;
            background-color: #444;
            border-radius: 5px;
        }

        #song-info {
            text-align: center;
            margin-bottom: 20px;
        }

        #album-cover {
            width: 150px;
            height: 150px;
            border-radius: 5px;
            margin: 0 auto 10px;
            background-color: #777; /* 預留專輯圖片位置 */
        }

        #song-title {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        #artist-name {
            color: #ccc;
        }

        #lyrics-container {
            flex-grow: 1;
            overflow-y: auto;
            text-align: center;
            padding: 20px;
            font-size: 1.2em;
            white-space: pre-wrap; /* 保留換行 */
        }

        #progress-bar-container {
            background-color: #555;
            height: 10px;
            border-radius: 5px;
            margin-top: 10px;
            cursor: pointer;
        }

        #progress-bar {
            background-color: #eee;
            height: 100%;
            width: 0%;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <div id="loading-screen">
        <div id="loading-text">KTV 系統正在啟動...</div>
        <div class="loading-animation"></div>
    </div>

    <div id="main-content">
        <div id="song-list">
            <h2>歌曲列表</h2>
            <div class="song-item" data-song-id="1" data-title="歌曲一" data-artist="歌手 A" data-album-cover="placeholder.jpg" data-lyrics="歌詞\n第一段">歌曲一 - 歌手 A</div>
            <div class="song-item" data-song-id="2" data-title="歌曲二" data-artist="歌手 B" data-album-cover="placeholder.jpg" data-lyrics="歌詞\n第二段">歌曲二 - 歌手 B</div>
            </div>
        <div id="player-area">
            <div id="song-info">
                <div id="album-cover"></div>
                <div id="song-title">請選擇歌曲</div>
                <div id="artist-name"></div>
            </div>
            <div id="lyrics-container"></div>
            <div id="progress-bar-container">
                <div id="progress-bar"></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 模擬同步音樂的過程 (實際需要串接 API)
            setTimeout(() => {
                document.getElementById('loading-screen').style.display = 'none';
                document.getElementById('main-content').style.display = 'grid';
            }, 3000); // 3 秒後顯示主內容

            const songItems = document.querySelectorAll('.song-item');
            const albumCover = document.getElementById('album-cover');
            const songTitleDisplay = document.getElementById('song-title');
            const artistNameDisplay = document.getElementById('artist-name');
            const lyricsContainer = document.getElementById('lyrics-container');
            const progressBar = document.getElementById('progress-bar');
            const progressBarContainer = document.getElementById('progress-bar-container');

            let currentSong = null;
            let currentTime = 0;
            let duration = 100; // 假設總時長

            songItems.forEach(item => {
                item.addEventListener('click', () => {
                    const title = item.dataset.title;
                    const artist = item.dataset.artist;
                    const albumCoverSrc = item.dataset.albumCover;
                    const lyrics = item.dataset.lyrics;

                    songTitleDisplay.textContent = title;
                    artistNameDisplay.textContent = artist;
                    albumCover.style.backgroundImage = `url('${albumCoverSrc}')`;
                    albumCover.textContent = ''; // 移除預留文字
                    lyricsContainer.textContent = lyrics;
                    currentSong = { title, artist };
                    currentTime = 0;
                    progressBar.style.width = '0%';
                    // 在這裡可以觸發音樂播放 (串接 YouTube IFrame Player API)
                    console.log(`播放：${title} - ${artist}`);
                });
            });

            // 模擬進度條更新
            function updateProgressBar() {
                if (currentSong) {
                    currentTime += 1;
                    const progress = (currentTime / duration) * 100;
                    progressBar.style.width = `${progress}%`;
                    if (currentTime < duration) {
                        setTimeout(updateProgressBar, 1000); // 每秒更新
                    }
                }
            }

            progressBarContainer.addEventListener('click', (e) => {
                if (currentSong) {
                    const rect = progressBarContainer.getBoundingClientRect();
                    const clickPosition = e.clientX - rect.left;
                    const totalWidth = rect.width;
                    const newTime = (clickPosition / totalWidth) * duration;
                    currentTime = newTime;
                    progressBar.style.width = `${(currentTime / duration) * 100}%`;
                    console.log(`跳轉到 ${currentTime} 秒`);
                    // 在這裡可以控制音樂播放器的跳轉
                }
            });

            // 啟動模擬進度條 (在選擇歌曲後啟動會更好)
            // setTimeout(updateProgressBar, 4000);
        });
    </script>

</body>
</html>
